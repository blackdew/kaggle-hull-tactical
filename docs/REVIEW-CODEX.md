# Hull Tactical 경쟁 문서 — 비판적 리뷰 (CODEX)

## 요약
세 문서(PRD.md, PLAN.md, TODO-001.md)는 의도와 골격은 좋지만, 추정·가정이 사실과 혼재되어 있고, 대회 “규정(메트릭/제출/런타임/타임라인)”과의 정합성이 부족합니다. 공식 페이지 기준으로 사실을 고정하고, 평가 API/노트북 제출 제약을 반영한 검증·운영 경로를 명시하면 실행 품질이 크게 향상됩니다.

## 강점
- 위험조정 수익(Sharpe 변형)과 변동성 제약을 핵심 목표로 정의.
- 누수 방지(purged CV, embargo)와 시계열 인지 검증을 강조.
- 초기 작업 백로그가 노트북/파이프라인과 연결되어 실행 가능성이 높음.

## 규정 대비 누락/불일치
- 메트릭/규정: “Sharpe 변형”과 “시장 대비 과도 변동성·언더퍼폼 시 패널티”가 언급되나, 공식 코드/수식 인용과 링크가 없음. 1.2× 변동성 캡의 정확한 조건(언제 페널티가 발동하는지) 부재.
- 제출/평가: 제출은 “평가 API”를 통해서만 가능하고, 매 거래일 `prediction`∈[0,2]의 S&P 500 익스포저를 출력해야 함. PRD에는 타깃(`market_forward_excess_returns`) 예측과 제출값 매핑 정책이 빠져 있음.
- 런타임/환경: 학습 단계 제출 노트북은 CPU/GPU 8시간 제한, 인터넷 비활성, 공개 외부데이터/사전학습 허용. 예측 단계는 9시간. 현재 문서에는 이 제약이 전혀 반영되지 않음.
- 타임라인: 시작/엔트리/팀 병합/최종 제출/예측 단계/종료(2026-06-16) 등 공식 일정 반영 필요. “추정” 표기를 제거하고 정확 일자를 명시해야 함.
- 데이터/평가 흐름: 학습 단계의 퍼블릭 LB는 모의 테스트 조각이며, 최종 점수는 예측 단계 실데이터 기반 업데이트로 결정. 문서는 이 평가 플로우 차이를 충분히 강조하지 않음.

## 주요 문제(문서 품질 관점)
- 데이터 명세 “추정”: 열/행 수, 피처 그룹, 기간 등이 추정으로 표기됨. 공개 CSV로 사실을 고정하고 스크립트로 검증해야 함.
- 검증 설계의 구체성 결여: 분할 기준(날짜 범위), 윈도 크기, 엠바고 길이, 호스트 메트릭과의 점수 동형성(e2e 게이트웨이 테스트) 계획이 없음.
- 범위 확장 위험: Transformer/WaveNet/GNN/Neural ODE 등 심층 아키텍처 나열은 SNR 낮고 행동공간[0,2]인 본 대회 구조에 대한 정당성 부족. 리스크 대비 기대효용이 불분명.
- 우선순위/측정가능성: TODO가 장황하며, 중간 게이트(로컬 메트릭 하니스 점수, 워크포워드 안정성, 변동성 캡 준수)와 연결되지 않음.
- 운영/재현성: 원천→로컬 게이트웨이→제출 생성까지 일관 명령 경로와 환경 요구(pyarrow/grpcio/polars/plotly)가 문서화되어 있지 않음.

## 권고 사항
- 규정 정본화: 공식 평가 코드/수식을 인용·링크하고, 간단한 수치 예시 포함. 변동성/언더퍼폼 패널티 발동 조건을 표로 요약.
- 출력 정의: 모델 출력→`prediction`[0,2] 매핑(임계값, 스케일, 변동성 타깃팅, 클리핑)을 명시하고, 제출 스키마 예시를 추가.
- 데이터 사실 고정: 스키마 검증 스크립트로 열/행 수, 타깃/보조열을 기록. 훈련/테스트 분리와 미래 데이터 반영을 명시.
- 검증 청사진: 학습/검증/테스트 기간, 윈도/엠바고 길이 확정. 호스트 메트릭을 로컬 계산하는 함수와 게이트웨이 점수의 동형성 테스트를 포함.
- 범위 축소: 먼저 선형/트리 계열 + 로버스트 후처리(윈저화, 변동성 타깃팅, 임계값 필터)로 강한 베이스라인 확보 후 확장.
- 제출/런타임 가이드: “uv sync → 로컬 메트릭/게이트웨이 테스트 → 제출”의 엔드투엔드 명령과 노트북 런타임(8h/9h), 인터넷 비활성, 외부데이터 규칙을 명시.
- 정량 게이트: 예) 최근 K개 워크포워드 폴드에서 로컬 메트릭 ≥ X, 전략 변동성 ≤ 1.2× 시장, 언더퍼폼 기간 비율 ≤ Y%.

## 즉시 수정 체크리스트
- PRD: “추정/요확인” 제거, 메트릭/제출/타임라인을 공식 규정으로 교체. 신호→익스포저 매핑 정책 추가.
- PLAN: 구체 윈도/엠바고/평가 API 통합 계획 추가. 퍼블릭 LB 비중 축소, 예측 단계 점수 반영 흐름 강조.
- TODO-001: 고레버리지 항목 중심으로 슬림화, 수용 기준·담당자·마감일 지정. 실행 스크립트/노트북 링크화.
